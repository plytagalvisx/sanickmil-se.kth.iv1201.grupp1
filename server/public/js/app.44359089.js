(function(t){function e(e){for(var i,o,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)o=s[p],n[o]&&d.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},r=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("64a9"),n=a.n(i);n.a},1392:function(t,e,a){"use strict";var i=a("4817"),n=a.n(i);n.a},1482:function(t,e,a){"use strict";var i=a("f5e3"),n=a.n(i);n.a},"1b1a":function(t,e,a){"use strict";var i=a("6a68"),n=a.n(i);n.a},"24f6":function(t,e,a){"use strict";var i=a("a3ad"),n=a.n(i);n.a},4817:function(t,e,a){},"52d3":function(t,e,a){"use strict";var i=a("b726"),n=a.n(i);n.a},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("795b"),n=a.n(i),r=(a("cadf"),a("551c"),a("097d"),a("2b0e")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("HeaderComponent",{on:{displayFlash:t.displayFlash}}),a("main",[a("router-view",{on:{displayFlash:t.displayFlash}}),t.showFlash?a("FlashMessageComponent",{attrs:{flashMessage:t.flashMessage,type:t.flashType}}):t._e()],1)],1)},s=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-navbar-brand",{attrs:{to:"/"}},[t._v("SANICKMIL")]),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",{staticClass:"ml-auto"},[t.loggedIn?a("b-nav-item-dropdown",{attrs:{right:""}},[a("template",{slot:"button-content"},[a("em",[t._v(t._s(t.user.name))])]),a("b-dropdown-item",{attrs:{to:"/profile"}},[t._v("Profile")]),a("b-dropdown-item",{on:{click:t.logout}},[t._v("Signout")])],2):t._e(),"applicant"===t.user.role?a("b-nav-item",{attrs:{to:"/apply"}},[t._v("Apply")]):t._e(),t.loggedIn?t._e():a("b-nav-item",{attrs:{to:"/register"}},[t._v("Register")]),t.loggedIn?t._e():a("b-nav-item",{attrs:{to:"/login"}},[t._v("Login")])],1)],1)],1)},c=[],u=(a("96cf"),a("3b8d")),p=a("cebc"),d=a("d225"),m=a("b0b4"),f=a("2f62"),b=a("bfa9");r["a"].use(f["a"]);var v=new b["a"]({key:"vuex-persistance",storage:window.localStorage,modules:["userModule"]}),h={namespaced:!0,state:{user:{name:null,token:null,role:null}},mutations:{logIn:function(t,e){t.user=e},logOut:function(t){t.user.name=null,t.user.token=null,t.user.role=null}},actions:{logIn:function(t,e){var a=t.commit;a("logIn",e)},logOut:function(t){var e=t.commit;e("logOut")}}},g={namespaced:!0,state:{application:{qualifications:[],availability:[]},form:{username:null,password:null}},getters:{applicationExists:function(t){return t.application.qualifications.length>0||t.application.availability.length>0},applicationState:function(t){var e=t.application.qualifications.length>0||t.application.availability.length>0;return e&&void 0!==t.application.submissionDate?"complete":e?"partial":"empty"}},mutations:{addAvailability:function(t,e){t.application.availability.push(e)},addQualification:function(t,e){t.application.qualifications.push(e)},setApplication:function(t,e){t.application=e},completeApplicationInfo:function(t,e){t.application=Object(p["a"])({},t.application,e)},clearApplication:function(t){t.application={qualifications:[],availability:[]}}},actions:{addAvailability:function(t,e){var a=t.commit;a("addAvailability",e)},addQualification:function(t,e){var a=t.commit;a("addQualification",e)},setApplication:function(t,e){var a=t.commit;a("setApplication",e)},completeApplicationInfo:function(t,e){var a=t.commit;a("completeApplicationInfo",e)},clearApplication:function(t){var e=t.commit;e("clearApplication")}}},y=new f["a"].Store({plugins:[v.plugin],modules:{userModule:h,applicationModule:g}}),_=a("bc3a").create({timeout:1e3});_.interceptors.request.use(function(t){return y.state.userModule.user.token&&(t.headers.authorization=y.state.userModule.user.token),t},function(t){return n.a.reject(t)});var w=_,$="api/user",A="api/auth",k=function(){function t(){Object(d["a"])(this,t)}return Object(m["a"])(t,null,[{key:"login",value:function(t,e){return w.get(A,{params:{username:t,password:e}}).then(function(t){return Object(p["a"])({},t.data,{auth:t.headers.authorization})})}},{key:"logout",value:function(){return w.delete("".concat(A),{headers:{Authorization:localStorage.getItem("userAuth")}}).then(function(t){return t.data})}},{key:"register",value:function(t,e,a,i,n,r){return w.post($,{username:t,password:e,email:a,firstname:i,lastname:n,ssn:r})}},{key:"getUser",value:function(t){return w.get($+"/"+t)}},{key:"getUserInfo",value:function(){return w.get($)}}]),t}(),x=k,S={name:"HeaderComponent",computed:Object(p["a"])({},Object(f["d"])("userModule",["user"]),{loggedIn:function(){return null!==this.user.token}}),methods:Object(p["a"])({},Object(f["b"])("userModule",["logOut"]),Object(f["b"])("applicationModule",["clearApplication"]),{logout:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.logout().then(function(){e.logOut(),e.clearApplication(),e.$emit("displayFlash","Successfully logged out","info"),e.$router.push("/login")});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()})},O=S,q=(a("1482"),a("2877")),j=Object(q["a"])(O,l,c,!1,null,"6d5bacfa",null),N=j.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flashmessage",class:{error:"error"===t.type,success:"success"===t.type,info:"info"===t.type}},[t._v("\n  "+t._s(t.flashMessage)+"\n")])},E=[],I={name:"FlashMessage",props:["flashMessage","type"]},D=I,R=(a("5e49"),Object(q["a"])(D,C,E,!1,null,"5b17fb76",null)),M=R.exports,F={components:{HeaderComponent:N,FlashMessageComponent:M},data:function(){return{showFlash:!1,flashMessage:"",flashType:"",currentInterval:null}},methods:{displayFlash:function(t,e){var a=this;this.flashMessage=t,this.flashType=e,this.showFlash=!0,this.currentInterval&&window.clearInterval(this.currentInterval),this.currentInterval=window.setTimeout(function(){a.showFlash=!1,a.currentInterval=null},3e3)}}},L=F,Q=(a("034f"),Object(q["a"])(L,o,s,!1,null,null,null)),Y=Q.exports,T=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-jumbotron",{attrs:{header:"Login",lead:"You need to login in order to use the service. Please login, or create a new user!"}},[t.show?a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{id:"usernameGroup"}},[a("b-form-input",{attrs:{id:"usernameInput",type:"text",placeholder:"Enter username",state:t.$v.form.username.$dirty?!t.$v.form.username.$error:null},on:{input:function(e){t.$v.form.username.$touch()}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),t.$v.form.username.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"usernameInput"}},[t._v("\n        Username is required\n      ")]),t.$v.form.username.pattern?t._e():a("b-form-invalid-feedback",{attrs:{id:"usernameInput"}},[t._v("\n        Username can only contain lowercase and uppercase letter and/or numbers\n      ")])],1),a("b-form-group",{attrs:{id:"passwordGroup"}},[a("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Enter password",state:t.$v.form.password.$dirty?!t.$v.form.password.$error:null},on:{input:function(e){t.$v.form.password.$touch()}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t.$v.form.password.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"usernameInput"}},[t._v("\n        Password is required\n      ")])],1),a("b-button",{attrs:{type:"submit",variant:"info",disabled:t.$v.form.$invalid}},[t._v("Login")])],1):t._e(),a("p",[t._v("Don't have an account? "),a("router-link",{attrs:{id:"link",to:"/register"}},[t._v("Join us!")])],1)],1)},H=[],U=a("1dce"),z=a("b5ae"),X=z["helpers"].regex("alphaNum",/[a-öA-Ö\d]/),G={name:"LoginView",data:function(){return{form:{username:"",password:"",token:null},show:!0}},mixins:[U["validationMixin"]],validations:{form:{username:{required:z["required"],alphaNum:X},password:{required:z["required"]}}},methods:Object(p["a"])({},Object(f["b"])("userModule",["logIn"]),{onSubmit:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(e){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,x.login(this.form.username,this.form.password).then(function(t){a.logIn({name:t.username,role:t.role,token:"".concat(t.token_type," ").concat(t.access_token)}),a.$emit("displayFlash",t.message,"success"),"applicant"===t.role?a.$router.push("/"):a.$router.push("/recruiter")}).catch(function(t){a.$emit("displayFlash",t.response.data.message,"error")});case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onReset:function(t){var e=this;t.preventDefault(),this.form.username="",this.form.password="",this.show=!1,this.$nextTick(function(){e.show=!0})}})},J=G,V=(a("24f6"),Object(q["a"])(J,P,H,!1,null,null,null)),B=V.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-jumbotron",{staticClass:"login",attrs:{header:"Register",lead:"Enter your preferred user information"}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",{attrs:{id:"usernameGroup"}},[a("b-form-input",{attrs:{id:"username",type:"text",required:"",placeholder:"Username:",state:t.$v.form.username.$dirty?!t.$v.form.username.$error:null},on:{input:function(e){t.$v.form.username.$touch()}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),t.$v.form.username.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"username"}},[t._v("\n            Username is required\n          ")]),t.$v.form.username.pattern?t._e():a("b-form-invalid-feedback",{attrs:{id:"username"}},[t._v("\n            Username can only contain a-ö, A-Ö and/or 0-9\n          ")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",{attrs:{id:"passwordGroup"}},[a("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Password:",state:t.$v.form.password.$dirty?!t.$v.form.password.$error:null},on:{input:function(e){t.$v.form.password.$touch()}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t.$v.form.password.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"password"}},[t._v("\n            Password is required\n          ")]),t.$v.form.password.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"password"}},[t._v("\n            Password has to be at least 6 characters long\n          ")]),t.$v.form.password.passwordRegex?t._e():a("b-form-invalid-feedback",{attrs:{id:"password"}},[t._v("\n            Password can only contain a-ö, A-Ö, 0-9 and/or $!%*#?&\n          ")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",{attrs:{id:"emailGroup"}},[a("b-form-input",{attrs:{id:"email",type:"email",placeholder:"Email:",state:t.$v.form.email.$dirty?!t.$v.form.email.$error:null},on:{input:function(e){t.$v.form.email.$touch()}},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t.$v.form.email.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"email"}},[t._v("\n            Email is required\n          ")]),t.$v.form.email.email?t._e():a("b-form-invalid-feedback",{attrs:{id:"email"}},[t._v("\n            The field has to be an email\n          ")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{id:"firstNameLabel"}},[a("b-form-input",{attrs:{id:"firstNameInput",placeholder:"First name:",state:t.$v.form.firstName.$dirty?!t.$v.form.firstName.$error:null},on:{input:function(e){t.$v.form.firstName.$touch()}},model:{value:t.form.firstName,callback:function(e){t.$set(t.form,"firstName",e)},expression:"form.firstName"}}),t.$v.form.firstName.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"firstNameInput"}},[t._v("\n            Firstname is required\n          ")]),t.$v.form.firstName.alpha?t._e():a("b-form-invalid-feedback",{attrs:{id:"firstNameInput"}},[t._v("\n            Firstname can only contain letters\n          ")])],1)],1),a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{id:"lastNameLabel"}},[a("b-form-input",{attrs:{id:"lastNameInput",placeholder:"Last name:",state:t.$v.form.lastName.$dirty?!t.$v.form.lastName.$error:null},on:{input:function(e){t.$v.form.lastName.$touch()}},model:{value:t.form.lastName,callback:function(e){t.$set(t.form,"lastName",e)},expression:"form.lastName"}}),t.$v.form.lastName.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"lastNameInput"}},[t._v("\n            Lastname is required\n          ")]),t.$v.form.lastName.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"lastNameInput"}},[t._v("\n            Lastname can only contain letters\n          ")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",{attrs:{id:"ssnGroup"}},[a("b-form-input",{attrs:{id:"ssn",type:"text",placeholder:"YYYYMMDD-XXXX",state:t.$v.form.ssn.$dirty?!t.$v.form.ssn.$error:null},on:{input:function(e){t.$v.form.ssn.$touch()}},model:{value:t.form.ssn,callback:function(e){t.$set(t.form,"ssn",e)},expression:"form.ssn"}}),t.$v.form.ssn.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"ssn"}},[t._v("\n            SSN is required\n          ")]),t.$v.form.ssn.ssn?t._e():a("b-form-invalid-feedback",{attrs:{id:"ssn"}},[t._v("\n            SSN has to be in the form YYYYMMDD-XXXX\n          ")])],1)],1)],1),a("b-button",{staticClass:"button",attrs:{type:"reset",variant:"danger"}},[t._v("Reset")]),a("b-button",{staticClass:"button",attrs:{disabled:t.$v.form.$invalid,type:"submit",variant:"info"}},[t._v("Register")])],1):t._e(),a("hr"),a("p",[t._v("Already have an account?\n    "),a("router-link",{attrs:{id:"link",to:"/"}},[t._v("Login!")])],1)],1)},W=[],Z=z["helpers"].regex("alphaNum",/[a-öA-Ö\d]/),tt=z["helpers"].regex("ssn",/^(19|20)[0-9]{6}[- ]?[0-9]{4}$/),et=z["helpers"].regex("password",/[a-öA-Ö\d@$!%*#?&]/),at=z["helpers"].regex("alpha",/[a-öA-Ö]/),it={name:"RegisterView",data:function(){return{form:{username:"",password:"",email:"",firstName:"",lastName:"",ssn:""},show:!0}},methods:{onSubmit:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(e){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,x.register(this.form.username,this.form.password,this.form.email,this.form.firstName,this.form.lastName,this.form.ssn).then(function(t){a.$router.push("/login"),a.$emit("displayFlash",t.data.message,"success")}).catch(function(t){a.$emit("displayFlash",t.response.data.message,"error")});case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onReset:function(t){var e=this;t.preventDefault(),this.form.username="",this.form.password="",this.form.email="",this.form.firstName="",this.form.lastName="",this.form.ssn="",this.show=!1,this.$nextTick(function(){e.show=!0})}},mixins:[U["validationMixin"]],validations:{form:{username:{required:z["required"],alphaNum:Z},password:{required:z["required"],minLength:Object(z["minLength"])(6),passwordRegex:et},email:{required:z["required"],email:z["email"]},firstName:{required:z["required"],alpha:at},lastName:{required:z["required"],alpha:at},ssn:{required:z["required"],ssn:tt}}}},nt=it,rt=(a("52d3"),Object(q["a"])(nt,K,W,!1,null,null,null)),ot=rt.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-jumbotron",[a("template",{slot:"header"},[t._v(t._s(t.headerText))]),a("template",{slot:"lead"},[t._v("\n    Apply for a job at "),a("b",[t._v("Amusement park")]),t._v(". You will not apply for a specific job, your specific task will be\n    decided by the recruiter, depending on your qualifications!\n  ")]),t.editApplication?a("EditApplicationComponent",{on:{propagateFlash:t.propagateFlash,progressStage:t.progressStage}}):t.reviewApplication?a("ApplicationReceiptComponent",{attrs:{receiptType:"apply"},on:{propagateFlash:t.propagateFlash}}):t._e()],2)},lt=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("Stretch"):a("div",[a("hr",{staticClass:"my-4"}),a("b-container",{staticClass:"bv-example-row"},[a("b-form",[a("b-row",[a("b-col",{attrs:{md:"7",sm:"12"}},[a("b-form-group",{attrs:{label:"Select expertise:","label-for":"expertiseSelect"}},[a("b-form-select",{attrs:{id:"expertiseSelect",options:t.skillOptions,state:t.$v.inputQualification.name.$dirty?!t.$v.inputQualification.name.$error:null},on:{input:function(e){t.$v.inputQualification.name.$touch()}},model:{value:t.inputQualification.name,callback:function(e){t.$set(t.inputQualification,"name",e)},expression:"inputQualification.name"}}),t.$v.inputQualification.name.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"expertiseSelect"}},[t._v("\n              You have to choose at least one qualification\n            ")])],1)],1),a("b-col",{attrs:{md:"3",sm:"12"}},[a("b-form-group",{attrs:{label:"Experience (years):","label-for":"yearsInput"}},[a("b-form-input",{attrs:{type:"number",id:"yearsInput",placeholder:"Years of expertise",state:t.$v.inputQualification.years.$dirty?!t.$v.inputQualification.years.$error:null},on:{input:function(e){t.$v.inputQualification.years.$touch()}},model:{value:t.inputQualification.years,callback:function(e){t.$set(t.inputQualification,"years",e)},expression:"inputQualification.years"}}),t.$v.inputQualification.years.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"yearsInput"}},[t._v("\n              Years of experience is required\n          ")])],1)],1),a("b-col",{attrs:{md:"2",sm:"12"}},[a("b-form-group",{attrs:{label:"New entry","label-for":"newExpertise"}},[a("b-button",{attrs:{id:"newExpertise",disabled:t.$v.inputQualification.$invalid},on:{click:t.storeQualification}},[t._v("+")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",{attrs:{label:"Qualifications:"}},[a("b-table",{attrs:{id:"qualifications",striped:"",items:t.application.qualifications,state:t.$v.application.qualifications.$dirty?!t.$v.application.qualifications.$error:null},on:{input:function(e){t.$v.application.qualifications.$touch()}}}),t.$v.application.qualifications.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"qualifications"}},[t._v("\n              You have to add at least one availability \n          ")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"5",sm:"12"}},[a("b-form-group",{attrs:{id:"availabilityStartLabel",label:"Availability from:","label-for":"availabilityStartDate"}},[a("b-form-input",{attrs:{id:"availabilityStartDate",type:"date",state:t.$v.inputAvailability.start.$dirty?!t.$v.inputAvailability.start.$error:null},on:{input:function(e){t.$v.inputAvailability.start.$touch()}},model:{value:t.inputAvailability.start,callback:function(e){t.$set(t.inputAvailability,"start",e)},expression:"inputAvailability.start"}}),t.$v.inputAvailability.start.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"availabilityStartDate"}},[t._v("\n              You have to select a start date\n          ")]),t.$v.inputAvailability.start.dateForm?t._e():a("b-form-invalid-feedback",{attrs:{id:"availabilityStartDate"}},[t._v("\n              You have to be within the 21st century\n          ")])],1)],1),a("b-col",{attrs:{md:"5",sm:"12"}},[a("b-form-group",{attrs:{id:"availabilityEndLabel",label:"Availability to:","label-for":"availabilityEndDate"}},[a("b-form-input",{attrs:{id:"availabilityEndDate",type:"date",state:t.$v.inputAvailability.end.$dirty?!t.$v.inputAvailability.end.$error:null},on:{input:function(e){t.$v.inputAvailability.end.$touch()}},model:{value:t.inputAvailability.end,callback:function(e){t.$set(t.inputAvailability,"end",e)},expression:"inputAvailability.end"}}),t.$v.inputAvailability.end.startDateBeforeEnd?t._e():a("b-form-invalid-feedback",{attrs:{id:"availabilityEndLabel"}},[t._v("\n              End date has to be after start date\n          ")]),t.$v.inputAvailability.end.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"availabilityEndLabel"}},[t._v("\n              You have to select an end date\n          ")]),t.$v.inputAvailability.end.dateForm?t._e():a("b-form-invalid-feedback",{attrs:{id:"availabilityStartDate"}},[t._v("\n              You have to be within the 21st century\n          ")])],1)],1),a("b-col",{attrs:{md:"2",sm:"12"}},[a("b-form-group",{attrs:{id:"expertise",label:"New entry","label-for":"newAvailability"}},[a("b-button",{attrs:{id:"newAvailability",disabled:t.$v.inputAvailability.$invalid},on:{click:t.storeAvailability}},[t._v("+")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",{attrs:{label:"Availability:"}},[a("b-table",{attrs:{striped:"",items:t.application.availability,state:t.$v.application.availability.$dirty?!t.$v.application.availability.$error:null},on:{input:function(e){t.$v.application.availability.$touch()}}}),t.$v.application.availability.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"lastNameInput"}},[t._v("\n              You have to add at least one availability \n          ")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{offset:"6",md:"6",sm:"12"}},[a("b-button",{staticClass:"button",attrs:{size:"lg",variant:"info",disabled:t.$v.application.$invalid},on:{click:function(e){t.$emit("progressStage")}}},[t._v("Next")])],1)],1)],1)],1)],1)},ut=[],pt=a("70f1"),dt=a.n(pt),mt=(a("7f7f"),"api/application"),ft="api/skills",bt=function(){function t(){Object(d["a"])(this,t)}return Object(m["a"])(t,null,[{key:"updateApplication",value:function(t,e){return w.patch(mt,{qualifications:t,availability:e})}},{key:"submitApplication",value:function(t,e){return w.post(mt,{qualifications:t,availability:e})}},{key:"getApplications",value:function(){return w.get(mt+"/all")}},{key:"getApplication",value:function(){return w.get(mt)}},{key:"getSkills",value:function(){return w.get(ft)}},{key:"changeStatus",value:function(t,e){return w.patch(mt+"/"+t,{status:e})}},{key:"deleteApplication",value:function(){return w.delete(mt)}}]),t}(),vt=bt,ht=a("d58b"),gt=z["helpers"].regex("checkDateForm",/^2\d{3}(-\d{2}){2}$/);function yt(){return this.inputAvailability.start<this.inputAvailability.end}var _t={name:"EditApplicationComponent",data:function(){return{skillOptions:[],inputQualification:{},inputAvailability:{},loading:!0}},created:function(){var t=this;vt.getSkills().then(function(e){t.loading=!0,t.skillOptions=e.data}).finally(function(){t.loading=!1}),this.applicationExists||(this.loading=!0,vt.getApplication().then(function(e){t.setApplication(e.data)}).catch(function(e){t.loading=!0,console.log("No application was found",e.response.status,e.response.data)}).finally(function(){t.loading=!1}))},methods:Object(p["a"])({},Object(f["b"])("applicationModule",["addQualification","addAvailability","setApplication"]),{storeQualification:function(){this.addQualification({competenceName:this.inputQualification.name,yearsOfExperience:dt()(this.inputQualification.years)})},storeAvailability:function(){this.addAvailability({from:this.inputAvailability.start,to:this.inputAvailability.end})}}),computed:Object(p["a"])({},Object(f["d"])("applicationModule",["application"]),Object(f["c"])("applicationModule",["applicationExists"])),mixins:[U["validationMixin"]],validations:{inputQualification:{name:{required:z["required"]},years:{required:z["required"]}},inputAvailability:{start:{required:z["required"],dateForm:gt},end:{startDateBeforeEnd:yt,required:z["required"],dateForm:gt}},application:{qualifications:{required:z["required"]},availability:{required:z["required"]}}},components:{Stretch:ht["a"]}},wt=_t,$t=(a("1b1a"),Object(q["a"])(wt,ct,ut,!1,null,"8cdbbe5e",null)),At=$t.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("Stretch"):a("div",[a("b-container",{staticClass:"bv-example-row textStyle"},[a("b-row",[a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",[a("b",[t._v("First name: ")]),t._v(" "+t._s(this.application.firstname))])]),a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",[a("b",[t._v("Last name: ")]),t._v(t._s(this.application.lastname))])])],1),a("b-row",[a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",[a("b",[t._v("Email: ")]),t._v(t._s(this.application.email))])]),a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",[a("b",[t._v("SSN: ")]),t._v(t._s(this.application.ssn))])])],1),a("b-row",{staticClass:"tableHeader"},[a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",{staticClass:"title"},[t._v("Skill")])]),a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",{staticClass:"title"},[t._v("Years")])])],1),t._l(this.application.qualifications,function(e){return a("b-row",{key:e.name,staticClass:"tableRow"},[a("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\n        "+t._s(e.competenceName)+" "),a("br")]),a("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\n        "+t._s(e.yearsOfExperience)+"\n      ")])],1)}),a("b-row",{staticClass:"tableHeader"},[a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",{staticClass:"title"},[t._v("Available from")])]),a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",{staticClass:"title"},[t._v("Available to")])])],1),t._l(this.application.availability,function(e,i){return a("b-row",{key:i,staticClass:"tableRow"},[a("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\n        "+t._s(new Date(e.from).toLocaleDateString())+" "),a("br")]),a("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\n        "+t._s(new Date(e.to).toLocaleDateString())+"\n      ")])],1)}),a("b-row",{staticStyle:{"margin-top":"1em"}},[a("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\n        "+t._s(this.application.applicationstatus)+"\n        "),this.application.applicationStatus?a("b-button",{attrs:{type:"button",disabled:"unhandled"!==this.application.applicationStatus,variant:"info",size:"lg",to:"apply"}},[t._v("Edit application")]):t._e()],1),a("b-col",{attrs:{md:"6",sm:"12"}},["profile"===t.receiptType?a("b-badge",{staticClass:"status",class:{unhandled:"unhandled"===t.application.applicationStatus,hired:"accepted"===t.application.applicationStatus,rejected:"rejected"===t.application.applicationStatus}},[t._v("\n          "+t._s(this.application.applicationStatus))]):t._e(),"apply"===t.receiptType?a("b-button",{staticClass:"submit",attrs:{variant:"info",size:"lg"},on:{click:t.onSubmit}},[t._v("Submit")]):t._e()],1)],1)],2)],1)},xt=[],St={name:"ApplicationReceiptComponent",data:function(){return{loading:!1,showApplication:!1}},computed:Object(p["a"])({},Object(f["d"])("applicationModule",["application"]),Object(f["c"])("applicationModule",["applicationState"])),created:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("partial"!==this.applicationState){t.next=7;break}return t.next=3,x.getUserInfo().then(function(t){return t.data});case 3:e=t.sent,this.completeApplicationInfo(e),t.next=11;break;case 7:if("empty"!==this.applicationState){t.next=11;break}return this.loading=!0,t.next=11,vt.getApplication().then(function(t){a.setApplication(t.data),a.showApplication=!0}).catch(function(){a.showApplication=!0}).finally(function(){a.loading=!1});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:Object(p["a"])({},Object(f["b"])("applicationModule",["setApplication","completeApplicationInfo","clearApplication"]),{onSubmit:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.application.availability.map(function(t){return{from:new Date(t.from).toISOString(),to:new Date(t.to).toISOString()}}),t.prev=1,t.next=4,vt.submitApplication(this.application.qualifications,e);case 4:a=t.sent,this.$emit("propagateFlash",a.data.message,"success"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),409===t.t0.response.status?this.$emit("propagateFlash",t.t0.response.data.message,"error"):this.$emit("propagateFlash","Something went wrong...","error");case 11:return t.prev=11,this.clearApplication(),this.$router.push("/profile"),t.finish(11);case 15:case"end":return t.stop()}},t,this,[[1,8,11,15]])}));function e(){return t.apply(this,arguments)}return e}()}),props:["receiptType"],components:{Stretch:ht["a"]}},Ot=St,qt=(a("fd41"),Object(q["a"])(Ot,kt,xt,!1,null,"944f3bd6",null)),jt=qt.exports,Nt={components:{ApplicationReceiptComponent:jt,EditApplicationComponent:At},name:"ApplicationView",data:function(){return{editApplication:!0,reviewApplication:!1}},computed:Object(p["a"])({},Object(f["d"])("applicationModule",["application"]),{headerText:function(){return this.editApplication?"Apply":this.reviewApplication?"Review your application":"ERROR"}}),methods:{progressStage:function(){this.editApplication=!1,this.reviewApplication=!0},propagateFlash:function(t,e){this.$emit("displayFlash",t,e)}}},Ct=Nt,Et=Object(q["a"])(Ct,st,lt,!1,null,null,null),It=Et.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-jumbotron",{attrs:{header:"Fantastic jobs",lead:"As an employee at Amusement Park, you have one of the main roles in a magical performance. The park is your scene, guests your expectant audience and together with your colleagues you are creating unforgettable experiences and fabulous memories for over 1.5\n  million children and adults every year. Now we are looking for new stars for the 2019 season and we are looking for you who thrive in the spotlight, passionate about the guest meeting and always want to exceed our guests' expectations."}},[a("p",[t._v("Start your application now!")]),a("b-btn",{attrs:{size:"lg",variant:"info",to:"/apply"}},[t._v("APPLY NOW!")])],1)],1)},Rt=[],Mt={name:"DashboardView"},Ft=Mt,Lt=Object(q["a"])(Ft,Dt,Rt,!1,null,null,null),Qt=Lt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("RecruiterDashboardComponent")},Tt=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-jumbotron",{attrs:{header:"Recruiter page",lead:"Current applications are listed below."}},[t.loading?a("Stretch"):t._l(t.applications,function(e,i){return a("b-card",{key:i,staticClass:"application",attrs:{"border-variant":"info"}},[a("b-row",[a("b-col",{attrs:{md:"1",sm:"12"}},["accepted"===e.applicationStatus?a("b-badge",{attrs:{variant:"success"}},[t._v("HIRED!")]):"rejected"===e.applicationStatus?a("b-badge",{attrs:{variant:"danger"}},[t._v("REJECTED!")]):a("b-badge",{attrs:{variant:"secondary"}},[t._v("UNHANDLED")])],1),a("b-col",{attrs:{md:"10",sm:"12"}}),a("b-col",{attrs:{md:"1",sm:"12"}},[a("b-btn",{attrs:{variant:"info",size:"sm"},on:{click:function(t){e.isOpen=!e.isOpen}}},[e.isOpen?a("i",{staticClass:"fas fa-minus"}):a("i",{staticClass:"fas fa-plus"})])],1)],1),a("b-row",[a("b-col",{attrs:{md:"4",sm:"12"}},[a("p",[a("b",[t._v("First name: ")]),t._v(" "+t._s(e.firstname))])]),a("b-col",{attrs:{md:"4",sm:"12"}},[a("p",[a("b",[t._v("Last name: ")]),t._v(t._s(e.lastname))])]),a("b-col",{attrs:{md:"4",sm:"12"}},[a("p",[a("b",[t._v("Submission date: ")]),t._v(t._s(new Date(e.submissionDate).toLocaleDateString()))])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"application.isOpen"}]},[a("b-row",[a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",[a("b",[t._v("Email: ")]),t._v(t._s(e.email))])]),a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",[a("b",[t._v("SSN: ")]),t._v(t._s(e.ssn))])])],1),a("b-row",{staticClass:"tableHeader"},[a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",{staticClass:"title"},[t._v("Skill")])]),a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",{staticClass:"title"},[t._v("Years")])])],1),t._l(e.qualifications,function(e){return a("b-row",{key:e.name,staticClass:"tableRow"},[a("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\r\n            "+t._s(e.competenceName)+" "),a("br")]),a("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\r\n            "+t._s(e.yearsOfExperience)+"\r\n          ")])],1)}),a("b-row",{staticClass:"tableHeader"},[a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",{staticClass:"title"},[t._v("Available from")])]),a("b-col",{attrs:{md:"6",sm:"12"}},[a("p",{staticClass:"title"},[t._v("Available to")])])],1),t._l(e.availability,function(e,i){return a("b-row",{key:i,staticClass:"tableRow"},[a("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\r\n            "+t._s(new Date(e.from).toLocaleDateString())+" "),a("br")]),a("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\r\n            "+t._s(new Date(e.to).toLocaleDateString())+"\r\n          ")])],1)}),a("b-row",{staticClass:"buttons"},[a("b-col",{attrs:{md:"4",sm:"12"}},[a("b-btn",{attrs:{variant:"danger",size:"lg"},on:{click:function(a){t.onStatus(e,"rejected")}}},[t._v("Reject")])],1),a("b-col",{attrs:{md:"4",sm:"12"}},[a("b-btn",{attrs:{variant:"secondary",size:"lg"},on:{click:function(a){t.onStatus(e,"unhandled")}}},[t._v("Unhandled")])],1),a("b-col",{attrs:{md:"4",sm:"12"}},[a("b-btn",{attrs:{variant:"success",size:"lg"},on:{click:function(a){t.onStatus(e,"accepted")}}},[t._v("Hire")])],1)],1)],2)],1)})],2)],1)},Ht=[],Ut={data:function(){return{applications:[],loading:!0}},created:function(){var t=this;vt.getApplications().then(function(e){t.loading=!0;var a=e.data;a.map(function(t){t.isOpen=!1}),t.applications=a}).finally(function(){t.loading=!1})},methods:{onStatus:function(t,e){var a=t.applicationStatus;vt.changeStatus(t.ssn,e).catch(function(){t.applicationStatus=a}),t.applicationStatus=e}},components:{Stretch:ht["a"]}},zt=Ut,Xt=(a("1392"),Object(q["a"])(zt,Pt,Ht,!1,null,null,null)),Gt=Xt.exports,Jt={components:{RecruiterDashboardComponent:Gt}},Vt=Jt,Bt=Object(q["a"])(Vt,Yt,Tt,!1,null,"5d8d8a1c",null),Kt=Bt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-jumbotron",[a("template",{slot:"header"},[t._v(t._s(t.showHeader))]),a("template",{slot:"lead"},[t._v(t._s(t.showLead))]),a("hr"),t.loading?a("Stretch"):t._e(),t.hasApplication?a("ApplicationReceiptComponent",{attrs:{inheritedApplication:t.application,receiptType:"profile"}}):t._e()],2)},Zt=[],te={data:function(){return{hasApplication:!1,application:[],loading:!1}},created:function(){var t=this;vt.getApplication().then(function(e){t.loading=!1,t.application=e.data,t.hasApplication=!0}).catch(function(){t.loading=!1,t.hasApplication=!1}),this.loading=!0},components:{ApplicationReceiptComponent:jt,Stretch:ht["a"]},computed:{showHeader:function(){return this.hasApplication?"Your application":"No application"},showLead:function(){return this.hasApplication?'Here you can see your current application. You can edit your application as long as it is "Unhandled"':'You do not have a current application. You can apply by pressing "Apply" in the upper right corner.'}}},ee=te,ae=Object(q["a"])(ee,Wt,Zt,!1,null,"320291a6",null),ie=ae.exports;r["a"].use(T["a"]);var ne=new T["a"]({mode:"history",base:"/",routes:[{path:"/",name:"dashboard",component:Qt},{path:"/login",name:"login",component:B},{path:"/register",name:"register",component:ot},{path:"/apply",name:"apply",component:It},{path:"/profile",name:"profile",component:ie},{path:"/recruiter",name:"recruiter",component:Kt}]});ne.beforeEach(function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(e,a,i){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=null!==y.state.userModule.user.token,"/login"===e.fullPath||"/register"===e.fullPath?i():n||ne.push("/login"),i();case 3:case"end":return t.stop()}},t,this)}));return function(e,a,i){return t.apply(this,arguments)}}());var re=ne,oe=a("bc3a"),se=a.n(oe),le=a("9f7b"),ce=a("2b27"),ue=a.n(ce);a("f9e3"),a("2dd8");r["a"].use(ue.a),r["a"].use(le["a"]),r["a"].use(y),se.a.interceptors.request.use(function(t){return console.log("NOBODY EXPECTS THE SPANNISH INQUISITION"),t},function(t){return n.a.reject(t)}),r["a"].config.productionTip=!1,new r["a"]({router:re,store:y,render:function(t){return t(Y)}}).$mount("#app")},"5e49":function(t,e,a){"use strict";var i=a("689c"),n=a.n(i);n.a},"64a9":function(t,e,a){},"689c":function(t,e,a){},"6a68":function(t,e,a){},a3ad:function(t,e,a){},b726:function(t,e,a){},e946:function(t,e,a){},f5e3:function(t,e,a){},fd41:function(t,e,a){"use strict";var i=a("e946"),n=a.n(i);n.a}});
//# sourceMappingURL=app.44359089.js.map